{% extends "layout.html" %}
{% block headers %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}

{% block content %}
    {% load safeTools %}
    <div class="jumbotron"
         style="background-image: url('data:image/jpeg;base64,{{ row.photo }}');
                 background-size: cover;
                 background-repeat: no-repeat;
                 background-position: center;
                 height: 400px;">
    </div>
    <div class="container">
        <div class="row" style="text-align: center">
            <div class="col-lg-12">
                <h1>{{ row.brand }} {{ row.model }}</h1>
            </div>
            {% if request.user.is_authenticated %}
            <div class="col-lg-12" style="text-align: left">
                <form action="{% url 'buyitem' %}" method='post'>
                    {% csrf_token %}
                    <input name='id' value="{{ row.id }}" hidden>
                    <button type="submit" class="btn btn-outline-danger" onclick="return confirm('Are you sure?');"><i
                            class="fa fa-heart"> <strong>Add to favorites</strong></i></button>
                </form>
            </div>
            {% endif %}
        </div>
        <br>
        <p>{{ row.description }}</p>
        <br>
        <table class="table table-responsive-lg table-hover" style="text-align: center; table-layout: fixed">
            <thead class="thead-dark">
            <tr>
                <th>Preço</th>
                <th>Tipo</th>
                <th>Combustível</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>{{ row.price }}€</td>
                <td>{% if row.kilometers > 0 %}Usado{% else %}Novo{% endif %}</td>
                <td>{{ row.typeOfFuel }}</td>
            </tr>
            </tbody>
        </table>
        <table class="table table-responsive-lg table-hover"
               style="text-align: center; table-layout: fixed">
            <thead class="thead-dark">
            <tr>
                <th>Marca</th>
                <th>Modelo</th>
                <th>Ano</th>
                <th>Mês</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>{{ row.brand }}</td>
                <td>{{ row.model }}</td>
                <td>{{ row.year }}</td>
                <td>{{ row.month }}</td>
            </tr>
            </tbody>
        </table>
    </div>
{% endblock %}